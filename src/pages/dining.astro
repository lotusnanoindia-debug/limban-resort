---
import { Icon } from 'astro-icon/components'
import Layout from "../layouts/Layout.astro";
import { AstroSEO } from "astro-seo-plugin";
import imageService from '../utils/ImageService.js';
import ContactSection from '../components/ContactSection.astro';
import { fetchDining, fetchSpecialDeal } from "../api.js";

// Helper for Cloudinary JPG (schema only)
const toCloudinaryJpg = (url: string) => {
  if (!url) return '';
  return `https://res.cloudinary.com/dfa5hhzej/image/fetch/w_1200,h_675,c_fill,q_85,f_jpg/${url}`;
};

// Server-side data fetching with clean API
let data = { experiences: [], specialDeal: null };
let error = null;

try {
  const [diningExperiences, specialDeal] = await Promise.all([
    fetchDining(),
    fetchSpecialDeal()
  ]);
  data = { experiences: diningExperiences || [], specialDeal };
} catch (err) {
  console.error("Failed to load dining experiences:", err);
  error = "Failed to load dining experiences from Hygraph";
}

// Process experiences with optimized ImageService URLs
const experiences = data.experiences.map((experience, index) => {
  const heroImageData = experience.images?.[0] ? {
    ...experience.images[0],
    context: {
      pageType: 'dining',
      contentName: experience.restaurantName,
      imageType: 'hero'
    }
  } : null;

  const logoImageData = experience.logo ? {
    ...experience.logo,
    context: {
      pageType: 'dining', 
      contentName: experience.restaurantName,
      imageType: 'logo'
    }
  } : null;

  return {
    id: experience.id,
    name: experience.restaurantName,
    intro: experience.shortIntro,
    description: experience.longDescription,
    logoUrl: logoImageData ? imageService.processImage(logoImageData, 'logo', { quality: 80 }) : "",
    imageUrl: heroImageData ? imageService.processImage(heroImageData, 'serviceCard', { quality: 75 }) : "",
    mosaicUrl: heroImageData ? imageService.processImage(heroImageData, 'grid', { quality: 60 }) : "",
    // Add schema-specific JPG URL
    schemaImageUrl: experience.images?.[0]?.url ? toCloudinaryJpg(experience.images[0].url) : "",
    slug: experience.url || `experience-${index + 1}`,
    alt: `${experience.restaurantName} dining experience at Limban Resort`,
    priority: index < 3
  };
});

// Create randomized hero mosaic
function shuffleArray(array) {
  const shuffled = [...array];
  for (let i = shuffled.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
  }
  return shuffled;
}

// Create randomized mosaic tiles (24 total)
const mosaicTiles = [];
if (experiences.length > 0) {
  const availableExperiences = [...experiences];
  
  for (let i = 0; i < 24; i++) {
    if (availableExperiences.length === 0) {
      availableExperiences.push(...shuffleArray(experiences));
    }
    mosaicTiles.push(availableExperiences.pop());
  }
}

// Safe hero images for meta and schema
const heroImageSrc = experiences[0]?.imageUrl || "/img/dining-hero.avif";
const heroImageSchema = experiences[0]?.schemaImageUrl || toCloudinaryJpg("/img/dining-hero.jpg");
---

<link rel="preload" as="image" href={heroImageSrc} fetchpriority="high" />

<Layout>
  <AstroSEO
    slot="head"
    title="Dining Experiences | Limban Resort - Tadoba Safari Lodge"
    description="Discover authentic dining experiences at Limban Resort - from jungle-fresh ingredients to intimate bush dinners under starlit skies in the heart of Tadoba National Park, Maharashtra."
    
    openGraph={{
      title: "Dining Experiences at Limban Resort - Tadoba Safari Lodge",
      description: "Authentic Indian cuisine, locally sourced ingredients, and unforgettable dining settings in the wilderness of Tadoba National Park.",
      image: heroImageSchema,
      type: "website",
      url: "https://limban.com/dining",
      site_name: "Limban Resort"
    }}
    jsonLd={{
      "@context": "https://schema.org",
      "@type": "Restaurant",
      "@id": "https://limban.com/dining#restaurant",
      "name": "Limban Resort Dining",
      "description": "Authentic dining experiences in the heart of Tadoba National Park. From dawn coffee with morning chorus to candlelit dinners under ancient trees, discover flavours crafted from the freshest local ingredients.",
      "url": "https://limban.com/dining",
      "image": [heroImageSchema, ...experiences.slice(0, 5).map(exp => exp.schemaImageUrl).filter(Boolean)],
      "servesCuisine": ["Indian Cuisine", "Local Maharashtrian", "Farm-to-Table", "International Cuisine"],
      "priceRange": "₹₹₹",
      "acceptsReservations": true,
      "telephone": "+91-90226-80451",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Survey No. 306, Village Mudholi, Taluka Bhadravati",
        "addressLocality": "Tadoba",
        "addressRegion": "Maharashtra",
        "postalCode": "442906",
        "addressCountry": "IN"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": 20.25602486093492,
        "longitude": 79.2847888101826
      },
      "openingHours": "Mo-Su 07:00-22:00",
      "paymentAccepted": "Cash, Credit Card, UPI",
      "currenciesAccepted": "INR",
      "partOf": {
        "@type": "Hotel",
        "@id": "https://limban.com/#hotel",
        "name": "Limban Resort"
      },
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Can I dine at Limban without staying overnight?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Absolutely! Our dining experiences are open to day visitors. Whether you're exploring Tadoba National Park or simply seeking an exceptional culinary experience in the wilderness, you're welcome to join us. We require advance booking to ensure our chefs can prepare your meal with the care and attention it deserves."
          }
        },
        {
          "@type": "Question", 
          "name": "Do you welcome families with children?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Children are absolutely welcome! We believe in creating memorable experiences for the entire family. Our chefs are happy to prepare child-friendly versions of our dishes. We provide high chairs, custom children's portions, and early dinner service for families with young children."
          }
        },
        {
          "@type": "Question",
          "name": "Can I bring my pet to dine with me?",
          "acceptedAnswer": {
            "@type": "Answer", 
            "text": "Yes, well-behaved pets are welcome! We have beautiful outdoor dining areas where you and your furry companion can enjoy a meal together surrounded by nature. Pets must be leashed and are only allowed in outdoor seating areas. Please mention when booking."
          }
        },
        {
          "@type": "Question",
          "name": "How far in advance should I make a reservation?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "We highly recommend booking at least 48 hours in advance to ensure availability and allow our culinary team to source the freshest local ingredients. For optimal selection, book 3-7 days ahead. During peak season (November-March), booking 1-2 weeks in advance is essential."
          }
        },
        {
          "@type": "Question",
          "name": "Do you accommodate dietary restrictions and allergies?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Absolutely! Our chefs can accommodate most dietary restrictions including vegetarian, vegan, gluten-free, and specific allergies. Please inform us of any dietary requirements when making your reservation so our culinary team can prepare safely and source appropriate ingredients in advance."
          }
        },
        {
          "@type": "Question",
          "name": "Is your restaurant accessible to guests with disabilities?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Absolutely! We're committed to ensuring all guests can enjoy our dining experiences. Our venues include wheelchair accessible seating areas, ground-floor dining spaces, and our team is trained to accommodate various accessibility needs. Please let us know about any specific requirements when booking so we can ensure you have the most comfortable experience possible."
          }
        }
      ]
    }}
  />


  <div class="bg-gray-950 text-gray-100">
    <!-- Enhanced Hero Section with Direct Image URLs -->
    <section class="relative pt-48 pb-32 overflow-hidden bg-gray-950">
      <!-- Dynamic mosaic background -->
      <div class="absolute inset-0 grid grid-cols-4 md:grid-cols-6 gap-0 opacity-60">
        {mosaicTiles.map((experience, index) => (
          <div 
            key={`dining-mosaic-${index}`}
            class="relative overflow-hidden h-full fade-in-up"
            style={`animation-delay: ${index * 50}ms`}
          >
            <img
              src={experience.mosaicUrl || experience.imageUrl}
              alt={`${experience.name} dining at Limban Resort`}
              loading={index < 12 ? 'eager' : 'lazy'}
              class="relative w-full h-full object-cover hover:scale-105 transition-all duration-1000"
            />

            <!-- Experience name overlay on hover -->
            <div class="absolute inset-0 bg-gray-900/80 opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
              <span class="text-white text-xs font-medium text-center px-2">
                {experience.name}
              </span>
            </div>
          </div>
        ))}
      </div>

      <!-- Enhanced gradients -->
      <div class="absolute inset-0 bg-gradient-to-br from-black/80 via-black/50 to-black/70"></div>
      <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-black/40"></div>
      <div class="absolute inset-0 bg-gradient-to-r from-transparent via-amber-400/5 to-transparent animate-pulse"></div>

      <!-- Hero Content -->
      <div class="relative z-20 max-w-7xl mx-auto px-6">
        <div class="text-center space-y-8">
          <div class="inline-block px-6 py-2 bg-amber-400/10 border border-amber-400/30 rounded-full mb-8">
            <span class="text-amber-400 text-sm font-medium tracking-widest uppercase">
              Savour the Wild
            </span>
          </div>
          
          <h1 class="font-serif text-5xl md:text-7xl lg:text-8xl text-white leading-tight drop-shadow-2xl">
            Dining <span class="text-amber-400">Experiences</span>
          </h1>
          
          <p class="text-xl md:text-2xl text-gray-200 font-light leading-relaxed max-w-4xl mx-auto drop-shadow-lg">
            In the heart of Tadoba, every meal tells a story. From dawn coffee with the morning chorus 
            to candlelit dinners under ancient trees, discover authentic flavours crafted from the 
            freshest local ingredients.
          </p>
        </div>
      </div>
    </section>

    <!-- Breadcrumb Navigation -->
    <nav class="py-6 bg-gray-900/50 border-b border-gray-800" aria-label="Breadcrumb">
      <div class="max-w-7xl mx-auto px-6">
        <ol class="flex items-center justify-center space-x-2 text-sm">
          <li>
            <a href="/" title="Return to Limban Resort homepage" class="text-gray-400 hover:text-amber-400 transition-colors duration-300 flex items-center">
              <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
              </svg>
              Home
            </a>
          </li>
          <li><svg class="w-4 h-4 text-gray-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"/></svg></li>
          <li><span class="text-amber-400 font-medium">Dining</span></li>
        </ol>
      </div>
    </nav>

    <!-- Dining Experiences Grid -->
    <section class="py-32 bg-gradient-to-b from-gray-950 to-gray-800">
      <div class="max-w-7xl mx-auto px-6">
        
        <!-- Special Deal Section -->
        {data.specialDeal?.html && (
          <div class="max-w-4xl mx-auto mb-20">
            <div class="bg-gradient-to-r from-purple-900/40 to-orange-900/40 border border-amber-400/30 rounded-2xl p-6 text-center shadow-2xl backdrop-blur-xl">
              <div class="font-bold text-lg text-white" set:html={data.specialDeal.html} />
            </div>
          </div>
        )}

        <header class="text-center mb-20">
          <div class="inline-block px-6 py-2 bg-amber-400/10 border border-amber-400/30 rounded-full mb-8">
            <span class="text-amber-400 text-sm font-medium tracking-widest uppercase">
              Culinary Journey
            </span>
          </div>
          <h2 class="font-serif text-4xl md:text-6xl text-white mb-6">
            Taste the Wilderness
          </h2>
          <p class="text-xl text-gray-300 max-w-3xl mx-auto">
            Each dining experience is crafted to connect you with the flavors and spirit of Tadoba
          </p>
        </header>
        
        {error ? (
          <div class="text-center py-16">
            <div class="w-16 h-16 mx-auto mb-6 text-red-400">
              <svg class="w-full h-full" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"/>
              </svg>
            </div>
            <h3 class="text-xl text-red-400 mb-2">Content Unavailable</h3>
            <p class="text-gray-400">{error}</p>
          </div>
        ) : (
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" role="list">
            {experiences.map((experience, index) => (
              <article
                key={experience.id}
                class="group relative overflow-hidden rounded-3xl bg-gray-800/40 border border-amber-100/20 hover:border-amber-400/50 transition-all duration-700 hover:-translate-y-2 hover:shadow-2xl hover:shadow-amber-400/10"
                role="listitem"
              >
                <!-- Enhanced Image with Direct URL -->
                <div class="relative aspect-[4/3] overflow-hidden">
                  <img
                    src={experience.imageUrl}
                    alt={experience.alt}
                    loading={experience.priority ? 'eager' : 'lazy'}
                    class="relative w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"
                  />
                  
                  <!-- Experience logo -->
                  {experience.logoUrl && (
                    <div class="absolute top-4 right-4 w-12 h-12 bg-white/10 backdrop-blur-sm rounded-full p-2 border border-white/20 opacity-80 group-hover:opacity-100 transition-opacity duration-300">
                      <img
                        src={experience.logoUrl}
                        alt={`${experience.name} logo`}
                        loading="lazy"
                        class="w-full h-full object-contain"
                      />
                    </div>
                  )}
                </div>

                <!-- Enhanced content -->
                <div class="p-8 space-y-6">
                  <header>
                    <h3 class="font-serif text-2xl md:text-3xl text-white mb-4 group-hover:text-amber-300 transition-colors duration-300">
                      {experience.name}
                    </h3>
                    <p class="text-gray-300 font-light leading-relaxed line-clamp-3">
                      {experience.intro}
                    </p>
                  </header>
                  
                  <!-- CTA Button -->
                  <footer>
                    <a
                      href={`/dining/${experience.slug}`}
                      title={`Explore ${experience.name} dining experience`}
                      class="action-btn"
                      aria-label={`Explore ${experience.name} dining experience`}
                    >
                      <span class="relative z-10 flex items-center justify-center">
                        Explore {experience.name}
                        <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                        </svg>
                      </span>
                    </a>
                  </footer>
                </div>
              </article>
            ))}
          </div>
        )}
      </div>
    </section>

    <!-- Philosophy Section -->
    <section class="py-32 bg-gray-900">
      <div class="max-w-6xl mx-auto px-6 text-center">
        <div class="inline-block px-6 py-2 bg-amber-400/10 border border-amber-400/30 rounded-full mb-8">
          <span class="text-amber-400 text-sm font-medium tracking-widest uppercase">Our Promise</span>
        </div>
        <h2 class="font-serif text-4xl md:text-5xl text-white mb-8">
          Fresh. Local. Authentic.
        </h2>
        <p class="text-xl text-gray-300 font-light leading-relaxed max-w-4xl mx-auto mb-12">
          In the heart of Tadoba's wilderness, we believe great food comes from great ingredients. 
          Every dish is crafted from locally sourced produce, prepared with love, and served with 
          the kind of personal attention that makes each meal memorable.
        </p>
        
        <!-- Philosophy highlights -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto">
          <div class="p-6 bg-gray-800/40 rounded-2xl border border-gray-700/50">
            <div class="w-12 h-12 mx-auto mb-4 text-green-400">
              <Icon name="ph:farm" class="w-12 h-12" />
            </div>
            <h3 class="text-white font-semibold mb-2">Farm to Table</h3>
            <p class="text-gray-400 text-sm">Fresh ingredients sourced locally from Tadoba region</p>
          </div>
          
          <div class="p-6 bg-gray-800/40 rounded-2xl border border-gray-700/50">
            <div class="w-12 h-12 mx-auto mb-4 text-amber-400">
              <Icon name="ph:bowl-food-light" class="w-12 h-12" />
            </div>
            <h3 class="text-white font-semibold mb-2">Authentic Recipes</h3>
            <p class="text-gray-400 text-sm">Traditional Maharashtrian flavors with modern presentation</p>
          </div>
          
          <div class="p-6 bg-gray-800/40 rounded-2xl border border-gray-700/50">
            <div class="w-12 h-12 mx-auto mb-4 text-blue-400">
              <Icon name="material-symbols-light:nature-outline" class="w-12 h-12" />
            </div>
            <h3 class="text-white font-semibold mb-2">Wilderness Setting</h3>
            <p class="text-gray-400 text-sm">Dining experiences in nature's embrace</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Dining FAQ Section -->
    <section class="py-32 bg-gradient-to-b from-gray-800 to-gray-950">
      <div class="max-w-7xl mx-auto px-6">
        <header class="text-center mb-16">
          <div class="inline-block px-6 py-2 bg-amber-400/10 border border-amber-400/30 rounded-full mb-8">
            <span class="text-amber-400 text-sm font-medium tracking-widest uppercase">Common Questions</span>
          </div>
          <h2 class="font-serif text-4xl md:text-6xl text-white mb-6">
            Dining at Limban
          </h2>
          <p class="text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed">
            Everything you need to know about experiencing our culinary offerings in the heart of Tadoba
          </p>
        </header>

        <div class="max-w-4xl mx-auto">
          <div class="space-y-4">
            
            <!-- FAQ Item 1 - Non-resident dining -->
            <div class="group bg-gradient-to-br from-gray-800/60 to-gray-900/80 backdrop-blur-xl border border-gray-700/50 rounded-2xl overflow-hidden">
              <button
                class="w-full text-left p-8 flex items-center justify-between rounded-2xl"
                data-faq-toggle
              >
                <div>
                  <h3 class="text-xl font-semibold text-white mb-2 group-hover:text-amber-400 transition-colors duration-300">
                    Can I dine at Limban without staying overnight?
                  </h3>
                  <p class="text-gray-400 text-sm">
                    Day visitors welcome • Advanced booking required
                  </p>
                </div>
                <Icon
                  name="ph:caret-down-bold"
                  class="w-6 h-6 text-amber-400 transition-transform duration-300 group-hover:rotate-180"
                />
              </button>
              <div class="faq-content max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                <div class="px-8 pb-8 border-t border-gray-700/30 pt-6">
                  <p class="text-gray-300 leading-relaxed mb-4">
                    <strong class="text-amber-400">Absolutely!</strong> Our dining experiences are open to day visitors. Whether you're exploring Tadoba National Park or simply seeking an exceptional culinary experience in the wilderness, you're welcome to join us.
                  </p>
                  <div class="bg-gray-900/60 rounded-xl p-4 border border-amber-400/20">
                    <p class="text-sm text-amber-300 mb-2">
                      <strong>Reservation Essential:</strong>
                    </p>
                    <p class="text-gray-300 text-sm">
                      We require advance booking to ensure our chefs can prepare your meal with the care and attention it deserves. Same-day availability is limited.
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- FAQ Item 2 - Families with children -->
            <div class="group bg-gradient-to-br from-gray-800/60 to-gray-900/80 backdrop-blur-xl border border-gray-700/50 rounded-2xl overflow-hidden">
              <button
                class="w-full text-left p-8 flex items-center justify-between rounded-2xl"
                data-faq-toggle
              >
                <div>
                  <h3 class="text-xl font-semibold text-white mb-2 group-hover:text-amber-400 transition-colors duration-300">
                    Do you welcome families with children?
                  </h3>
                  <p class="text-gray-400 text-sm">
                    Family-friendly dining • Children's options available
                  </p>
                </div>
                <Icon
                  name="ph:caret-down-bold"
                  class="w-6 h-6 text-amber-400 transition-transform duration-300 group-hover:rotate-180"
                />
              </button>
              <div class="faq-content max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                <div class="px-8 pb-8 border-t border-gray-700/30 pt-6">
                  <p class="text-gray-300 leading-relaxed mb-4">
                    <strong class="text-amber-400">Children are absolutely welcome!</strong> We believe in creating memorable experiences for the entire family. Our chefs are happy to prepare child-friendly versions of our dishes or simple, fresh alternatives.
                  </p>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-gray-900/60 rounded-xl p-4 border border-green-400/20">
                      <p class="text-sm text-green-300 mb-2">
                        <strong>What we provide:</strong>
                      </p>
                      <ul class="text-gray-300 text-sm space-y-1">
                        <li>• High chairs available</li>
                        <li>• Custom children's portions</li>
                        <li>• Simple, fresh ingredients</li>
                      </ul>
                    </div>
                    <div class="bg-gray-900/60 rounded-xl p-4 border border-blue-400/20">
                      <p class="text-sm text-blue-300 mb-2">
                        <strong>Family-friendly timing:</strong>
                      </p>
                      <p class="text-gray-300 text-sm">
                        Early dinner service available for families with young children (6:00 PM onwards)
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- FAQ Item - Accessibility -->
            <div class="group bg-gradient-to-br from-gray-800/60 to-gray-900/80 backdrop-blur-xl border border-gray-700/50 rounded-2xl overflow-hidden">
              <button
                class="w-full text-left p-8 flex items-center justify-between rounded-2xl"
                data-faq-toggle
              >
                <div>
                  <h3 class="text-xl font-semibold text-white mb-2 group-hover:text-amber-400 transition-colors duration-300">
                    Is your restaurant accessible to guests with disabilities?
                  </h3>
                  <p class="text-gray-400 text-sm">
                    Inclusive dining experience • Accessibility accommodations available
                  </p>
                </div>
                <Icon
                  name="ph:caret-down-bold"
                  class="w-6 h-6 text-amber-400 transition-transform duration-300 group-hover:rotate-180"
                />
              </button>
              <div class="faq-content max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                <div class="px-8 pb-8 border-t border-gray-700/30 pt-6">
                  <p class="text-gray-300 leading-relaxed mb-4">
                    <strong class="text-amber-400">Absolutely!</strong> We're committed to ensuring all guests can enjoy our dining experiences. Our venues include accessible seating areas, and our team is trained to accommodate various accessibility needs.
                  </p>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-gray-900/60 rounded-xl p-4 border border-green-400/20">
                      <p class="text-sm text-green-300 mb-2">
                        <strong>What we provide:</strong>
                      </p>
                      <ul class="text-gray-300 text-sm space-y-1">
                        <li>• Wheelchair accessible seating</li>
                        <li>• Ground-floor dining areas</li>
                        <li>• Staff assistance available</li>
                        <li>• Flexible seating arrangements</li>
                      </ul>
                    </div>
                    <div class="bg-gray-900/60 rounded-xl p-4 border border-amber-400/20">
                      <p class="text-sm text-amber-300 mb-2">
                        <strong>Planning your visit:</strong>
                      </p>
                      <p class="text-gray-300 text-sm">
                        Please let us know about any specific accessibility requirements when booking. This helps us prepare and ensure you have the most comfortable dining experience possible.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- FAQ Item 3 - Pets -->
            <div class="group bg-gradient-to-br from-gray-800/60 to-gray-900/80 backdrop-blur-xl border border-gray-700/50 rounded-2xl overflow-hidden">
              <button
                class="w-full text-left p-8 flex items-center justify-between rounded-2xl"
                data-faq-toggle
              >
                <div>
                  <h3 class="text-xl font-semibold text-white mb-2 group-hover:text-amber-400 transition-colors duration-300">
                    Can I bring my pet to dine with me?
                  </h3>
                  <p class="text-gray-400 text-sm">
                    Pet-friendly dining • Outdoor seating available
                  </p>
                </div>
                <Icon
                  name="ph:caret-down-bold"
                  class="w-6 h-6 text-amber-400 transition-transform duration-300 group-hover:rotate-180"
                />
              </button>
              <div class="faq-content max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                <div class="px-8 pb-8 border-t border-gray-700/30 pt-6">
                  <p class="text-gray-300 leading-relaxed mb-4">
                    <strong class="text-amber-400">Yes, well-behaved pets are welcome!</strong> We have beautiful outdoor dining areas where you and your furry companion can enjoy a meal together surrounded by nature.
                  </p>
                  <div class="bg-gray-900/60 rounded-xl p-4 border border-amber-400/20">
                    <p class="text-sm text-amber-300 mb-3">
                      <strong>Pet dining guidelines:</strong>
                    </p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-300">
                      <div>
                        <p class="mb-2">• Outdoor seating areas only</p>
                        <p class="mb-2">• Pets must be leashed</p>
                        <p>• Water bowls provided</p>
                      </div>
                      <div>
                        <p class="mb-2">• Please mention when booking</p>
                        <p class="mb-2">• Clean-up supplies available</p>
                        <p>• Shaded seating options</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- FAQ Item 4 - Reservations -->
            <div class="group bg-gradient-to-br from-gray-800/60 to-gray-900/80 backdrop-blur-xl border border-gray-700/50 rounded-2xl overflow-hidden">
              <button
                class="w-full text-left p-8 flex items-center justify-between rounded-2xl"
                data-faq-toggle
              >
                <div>
                  <h3 class="text-xl font-semibold text-white mb-2 group-hover:text-amber-400 transition-colors duration-300">
                    How far in advance should I make a reservation?
                  </h3>
                  <p class="text-gray-400 text-sm">
                    Booking timeline • Seasonal considerations
                  </p>
                </div>
                <Icon
                  name="ph:caret-down-bold"
                  class="w-6 h-6 text-amber-400 transition-transform duration-300 group-hover:rotate-180"
                />
              </button>
              <div class="faq-content max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                <div class="px-8 pb-8 border-t border-gray-700/30 pt-6">
                  <p class="text-gray-300 leading-relaxed mb-4">
                    We <strong class="text-amber-400">highly recommend booking at least 6 hours in advance</strong> to ensure availability and allow our culinary team to source the freshest local ingredients for your meal.
                  </p>
                  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="bg-green-900/40 rounded-xl p-4 border border-green-400/20 text-center">
                      <p class="text-green-300 font-semibold mb-2">Optimal</p>
                      <p class="text-2xl font-bold text-white mb-1">2-7 days</p>
                      <p class="text-gray-300 text-xs">Best selection & preparation</p>
                    </div>
                    <div class="bg-amber-900/40 rounded-xl p-4 border border-amber-400/20 text-center">
                      <p class="text-amber-300 font-semibold mb-2">Minimum</p>
                      <p class="text-2xl font-bold text-white mb-1">6 hours</p>
                      <p class="text-gray-300 text-xs">Subject to availability</p>
                    </div>
                    <div class="bg-red-900/40 rounded-xl p-4 border border-red-400/20 text-center">
                      <p class="text-red-300 font-semibold mb-2">Peak Season</p>
                      <p class="text-2xl font-bold text-white mb-1">1-2 weeks</p>
                      <p class="text-gray-300 text-xs">Nov-Mar booking essential</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- FAQ Item 5 - Dietary requirements -->
            <div class="group bg-gradient-to-br from-gray-800/60 to-gray-900/80 backdrop-blur-xl border border-gray-700/50 rounded-2xl overflow-hidden">
              <button
                class="w-full text-left p-8 flex items-center justify-between rounded-2xl"
                data-faq-toggle
              >
                <div>
                  <h3 class="text-xl font-semibold text-white mb-2 group-hover:text-amber-400 transition-colors duration-300">
                    Do you accommodate dietary restrictions and allergies?
                  </h3>
                  <p class="text-gray-400 text-sm">
                    Custom preparations • Allergy-safe options
                  </p>
                </div>
                <Icon
                  name="ph:caret-down-bold"
                  class="w-6 h-6 text-amber-400 transition-transform duration-300 group-hover:rotate-180"
                />
              </button>
              <div class="faq-content max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                <div class="px-8 pb-8 border-t border-gray-700/30 pt-6">
                  <p class="text-gray-300 leading-relaxed mb-4">
                    <strong class="text-amber-400">Absolutely!</strong> Our chefs take dietary requirements seriously and can accommodate most restrictions including vegetarian, vegan, gluten-free, and specific allergies.
                  </p>
                  <div class="bg-amber-900/20 rounded-xl p-4 border border-amber-400/30">
                    <p class="text-amber-300 font-semibold mb-2 text-sm">Important:</p>
                    <p class="text-gray-300 text-sm">
                      Please inform us of any dietary restrictions or allergies when making your reservation. This allows our culinary team to prepare safely and source appropriate ingredients in advance.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
<!-- Contact Section -->
<ContactSection />


</layout>

<style>
  .faq-content {
    transition: max-height 0.3s ease-in-out;
  }
  .fade-in-up {
    opacity: 0;
    animation: fadeInUp 0.8s ease-out forwards;
  }
  
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  /* Performance optimizations */
  .group {
    will-change: transform;
  }

  /* Respect user motion preferences */
  @media (prefers-reduced-motion: reduce) {
    .transition-all,
    .transition-transform,
    .transition-colors,
    .hover\:scale-105,
    .animate-pulse,
    .fade-in-up {
      transition: none !important;
      transform: none !important;
      animation: none !important;
    }
  }
</style>
<!-- FAQ JavaScript -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const faqToggles = document.querySelectorAll('[data-faq-toggle]');
    
    faqToggles.forEach(toggle => {
      toggle.addEventListener('click', function() {
        const content = this.nextElementSibling;
        const icon = this.querySelector('svg');
        const isOpen = content.style.maxHeight && content.style.maxHeight !== '0px';
        
        // Close all other FAQs
        faqToggles.forEach(otherToggle => {
          if (otherToggle !== this) {
            const otherContent = otherToggle.nextElementSibling;
            const otherIcon = otherToggle.querySelector('svg');
            otherContent.style.maxHeight = '0px';
            otherIcon.style.transform = 'rotate(0deg)';
          }
        });
        
        // Toggle current FAQ
        if (isOpen) {
          content.style.maxHeight = '0px';
          icon.style.transform = 'rotate(0deg)';
        } else {
          content.style.maxHeight = content.scrollHeight + 'px';
          icon.style.transform = 'rotate(180deg)';
        }
      });
    });
  });
</script>

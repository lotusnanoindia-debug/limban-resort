---
export const prerender = true;
import Layout from "../layouts/Layout.astro";
import { AstroSEO } from "astro-seo-plugin";
import { fetchCorporateGallery} from "../api.js";
import { CorporateDatePicker } from "@/components/CorporateDatePicker";
import SmartReserveButton from "../components/SmartReserveButton.astro";
import { Icon } from 'astro-icon/components'

// Helper for Cloudinary JPG (schema)
const toCloudinaryJpg = (url: string) => {
  if (!url) return '';
  return `https://res.cloudinary.com/dfa5hhzej/image/fetch/w_1200,h_675,c_fill,q_85,f_jpg/${url}`;
};

const pageUrl = Astro.url.href;

// Hero images
const heroImageUrl = "https://res.cloudinary.com/dfa5hhzej/image/upload/f_avif,q_45,w_1400/limban-corporate-event-setting_q58lb3.jpg";
const heroMobileUrl = "https://res.cloudinary.com/dfa5hhzej/image/upload/f_auto,q_45,w_600,c_scale/limban-corporate-event-setting_q58lb3.jpg";
const heroImageSchema = "https://res.cloudinary.com/dfa5hhzej/image/upload/w_1200,h_675,c_fill,q_85,f_jpg/limban-corporate-event-setting_q58lb3.jpg";

// Server-side data fetching - simplified
let data = { corporateGallery: [] };
let error = null;

try {
  const [corporateGallery] = await Promise.all([
    fetchCorporateGallery()
  ]);
  data = { corporateGallery: corporateGallery };
} catch (err) {
  console.error("Failed to load corporate data:", err);
  error = "Failed to load content from CMS";
}

// Enhanced event categories with strategic icons
const eventCategories = [
  {
    icon: "carbon:chart-line-smooth",
    title: "Strategic Leadership Retreats",
    description: "Board governance, succession planning, and transformational leadership development in nature's most inspiring classroom.",
    outcomes: [
      "Breakthrough strategic clarity",
      "Aligned executive vision", 
      "Enhanced decision-making frameworks",
    ],
  },
  {
    icon: "ph:lightbulb",
    title: "Innovation & Transformation Labs",
    description: "Cultural transformation programmes and innovation workshops where wilderness wisdom unlocks exponential business thinking.",
    outcomes: [
      "Accelerated innovation cycles",
      "Cultural breakthrough moments",
      "Nature-inspired solutions",
    ],
  },
  {
    icon: "carbon:partnership",
    title: "Stakeholder Engagement Experiences", 
    description: "Client advisory summits, investor presentations, and thought leadership gatherings in environments that elevate every conversation.",
    outcomes: [
      "Deeper stakeholder relationships",
      "Memorable brand positioning",
      "Premium engagement quality",
    ],
  },
  {
    icon: "ph:users-three",
    title: "Team Performance Excellence",
    description: "High-performance team development, crisis management simulations, and collaborative excellence programmes.",
    outcomes: [
      "Enhanced team dynamics",
      "Resilient leadership capabilities", 
      "Breakthrough collaboration patterns",
    ],
  },
  {
    icon: "ph:trophy",
    title: "Achievement & Recognition Celebrations",
    description: "Company milestones, achievement awards, and success celebrations in settings as remarkable as your accomplishments.",
    outcomes: [
      "Inspired team motivation",
      "Strengthened company culture",
      "Memorable milestone moments",
    ],
  },
  {
    icon: "carbon:education",
    title: "Executive Learning Intensives",
    description: "Industry thought leadership summits, expert-led masterclasses, and professional development programmes tailored for senior executives.",
    outcomes: [
      "Accelerated executive learning",
      "Industry insight advancement", 
      "Professional network expansion",
    ],
  },
];

// Simplified testimonials - local images only
const testimonials = [
  {
    name: "Rajesh Sharma", 
    company: "Tech Innovation Co.",
    role: "CEO",
    image: "/rajeshs.jpg",
    takeaway: "Breakthrough strategic clarity in 48 hours",
    quote: "Our leadership team experienced breakthrough clarity we couldn't achieve in traditional settings. The combination of strategic focus and wilderness inspiration created solutions that transformed our business trajectory.",
    event: "Strategic Leadership Retreat",
    date: "March 2025"
  },
  {
    name: "Priya Mehta",
    company: "Global Finance Corp", 
    role: "Chief Strategy Officer",
    image: "/priya.jpg",
    takeaway: "Transformative stakeholder experiences",
    quote: "After hosting client events globally, nothing compared to Limban's transformative impact. Our stakeholders continue referencing insights from their wilderness strategy sessions months later.",
    event: "Stakeholder Engagement Summit",
    date: "January 2025"
  },
  {
    name: "Arjun Patel",
    company: "Manufacturing Co.",
    role: "CHRO",
    image: "/arjun.jpg",
    takeaway: "Authentic team transformation",
    quote: "The team development programme created authentic relationships that transformed our workplace culture. Shared wilderness experiences built trust that traditional corporate activities never achieved.",
    event: "Team Performance Excellence", 
    date: "February 2025"
  }
];

// Data for the FAQ schema based on "Professional Service Standards"
const serviceStandardsFaq = [
  {
    question: "What is the response time for an initial consultation?",
    answer: "We guarantee a response to your initial consultation request within 24 hours."
  },
  {
    question: "How quickly will I receive a detailed programme proposal?",
    answer: "You will receive a detailed, bespoke programme proposal within 48 hours of your consultation."
  },
  {
    question: "What is the maximum group capacity?",
    answer: "To ensure an intimate and impactful experience, we accommodate a maximum of 40 executives."
  },
  {
    question: "What corporate event types do you specialise in?",
    answer: "We specialise in strategic leadership retreats, innovation labs, stakeholder engagement experiences, team performance development, achievement celebrations, and executive learning intensives."
  },
  {
    question: "Can you integrate safari experiences into corporate events?",
    answer: "Yes! We seamlessly integrate wildlife safari experiences with strategic sessions, offering unique team-building opportunities and inspiration from nature's leadership lessons."
  }
];

// Corporate events service schema
const corporateEventsSchema = {
  "@context": "https://schema.org",
  "@type": "EventVenue",
  "@id": "https://limban.com/corporate-events#venue",
  "name": "Limban Resort Corporate Events & Executive Retreats",
  "description": "Bespoke corporate events, strategic retreats, innovation labs, and stakeholder experiences hosted at Limban Resort, located in the pristine wilderness of Tadoba Tiger Reserve.",
  "url": "https://limban.com/corporate-events",
  "image": [heroImageSchema],
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "Survey No. 306, Village Mudholi, Taluka Bhadravati",
    "addressLocality": "Tadoba",
    "addressRegion": "Maharashtra",
    "postalCode": "442906",
    "addressCountry": "IN"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": 20.25602486093492,
    "longitude": 79.2847888101826
  },
  "telephone": "+91-90226-80451",
  "email": "info@limban.com",
  "maximumAttendeeCapacity": 40,
  "amenityFeature": [
    {
      "@type": "LocationFeatureSpecification",
      "name": "Conference Facilities",
      "value": true
    },
    {
      "@type": "LocationFeatureSpecification",
      "name": "Audio-Visual Equipment",
      "value": true
    },
    {
      "@type": "LocationFeatureSpecification",
      "name": "Outdoor Meeting Spaces",
      "value": true
    },
    {
      "@type": "LocationFeatureSpecification",
      "name": "Accommodation for Attendees",
      "value": true
    },
    {
      "@type": "LocationFeatureSpecification",
      "name": "Catering Services",
      "value": true
    },
    {
      "@type": "LocationFeatureSpecification",
      "name": "Safari Integration",
      "value": true
    }
  ],
  "partOf": {
    "@type": "Hotel",
    "@id": "https://limban.com/#hotel",
    "name": "Limban Resort"
  }
};

// Service offerings schema
const serviceSchema = {
  "@context": "https://schema.org",
  "@type": "Service",
  "@id": "https://limban.com/corporate-events#service",
  "serviceType": "Corporate Event Planning",
  "name": "Corporate Events & Executive Retreat Planning",
  "description": "Professional corporate event planning and execution services specialising in strategic retreats, innovation labs, stakeholder experiences, and team development programmes.",
  "provider": {
    "@type": "Hotel",
    "@id": "https://limban.com/#hotel",
    "name": "Limban Resort"
  },
  "areaServed": {
    "@type": "Country",
    "name": "India"
  },
  "hasOfferCatalog": {
    "@type": "OfferCatalog",
    "name": "Corporate Event Categories",
    "itemListElement": eventCategories.map((event, index) => ({
      "@type": "Offer",
      "itemOffered": {
        "@type": "Service",
        "name": event.title,
        "description": event.description
      }
    }))
  }
};

// FAQ schema
const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": serviceStandardsFaq.map(faq => ({
    "@type": "Question",
    "name": faq.question,
    "acceptedAnswer": {
      "@type": "Answer",
      "text": faq.answer
    }
  }))
};

// Combine schemas
const combinedJsonLd = [corporateEventsSchema, serviceSchema, faqSchema];
---

<link rel="preload" as="image" href={heroImageUrl} fetchpriority="high" />

<Layout>
  <AstroSEO
    slot="head"
    title="Corporate Events & Executive Retreats | Limban Resort Tadoba"
    description="Corporate events that transform. Strategic retreats, innovation labs, stakeholder experiences at India's premier tiger reserve. Professional event management with safari integration."
    
    openGraph={{
      title: "Corporate Events & Executive Retreats | Limban Resort",
      description: "Corporate events that transform. Strategic retreats, innovation labs, stakeholder experiences at India's premier tiger reserve.",
      image: heroImageSchema,
      type: "website",
      url: "https://limban.com/corporate-events",
      site_name: "Limban Resort Tadoba"
    }}
    jsonLd={combinedJsonLd}
  />



  <div class="bg-gray-950 text-gray-100">
    <!-- Enhanced Hero - Direct image URL -->
    <section class="relative pt-48 pb-32 overflow-hidden bg-gray-950">
      <picture>
        <source media="(max-width: 768px)" srcset={heroMobileUrl} />
        <img
          src={heroImageUrl}
          class="absolute inset-0 w-full h-full object-cover opacity-65"
          alt="Corporate retreat overlooking Tadoba wilderness at dawn"
          loading="eager"
          fetchpriority="high"
        />
      </picture>

      <div class="absolute inset-0 bg-gradient-to-b from-gray-950/70 via-gray-950/30 to-gray-950/80"></div>

      <div class="relative z-10 max-w-6xl mx-auto px-6">
        <div class="text-center">
          <div class="inline-flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-amber-400/10 to-orange-500/10 border border-amber-400/30 rounded-full mb-8 backdrop-blur-xl">
            <Icon name="carbon:enterprise" class="w-4 h-4 text-amber-400" />
            <span class="text-amber-400 text-sm font-medium tracking-widest uppercase">Corporate Events</span>
          </div>
          
          <h1 class="font-serif text-6xl md:text-7xl lg:text-8xl text-white mb-8 leading-tight">
            Where Success<br />
            <span class="text-amber-400">Meets Wilderness</span>
          </h1>
          
          <p class="text-xl md:text-2xl text-gray-200 max-w-4xl mx-auto leading-relaxed mb-12">
            Corporate events that transcend conventional boundaries. Strategic retreats, innovation labs, and transformative experiences in India's premier tiger reserve.
          </p>
        </div>
      </div>
    </section>
    <!-- Breadcrumb Navigation -->
    <nav
      class="py-6 bg-gray-900/50 border-b border-gray-800"
      aria-label="Breadcrumb"
    >
      <div class="max-w-7xl mx-auto px-6">
        <ol class="flex items-center justify-center space-x-2 text-sm">
          <li>
            <a
              href="/"
              title="Return to Limban Resort homepage"
              class="text-gray-400 hover:text-amber-400 transition-colors duration-300 flex items-center"
            >
              <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                <path
                  d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"
                ></path>
              </svg>
              Home
            </a>
          </li>
          <li>
            <svg
              class="w-4 h-4 text-gray-600"
              fill="currentColor"
              viewBox="0 0 20 20"
            >
              <path
                fill-rule="evenodd"
                d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                clip-rule="evenodd"></path>
            </svg>
          </li>
          <li>
            <span class="text-amber-400 font-medium">Corporate Events</span>
          </li>
        </ol>
      </div>
    </nav>

    <!-- Results Showcase -->
    <section class="py-32 bg-gradient-to-b from-gray-800 to-gray-900">
      <div class="max-w-7xl mx-auto px-6">
        <div class="text-center mb-16">
          <div class="inline-flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-amber-400/10 to-orange-500/10 border border-amber-400/30 rounded-full mb-8">
            <Icon name="carbon:result" class="w-4 h-4 text-amber-400" />
            <span class="text-amber-400 text-sm font-medium tracking-widest uppercase">Proven Results</span>
          </div>
          <h2 class="font-serif text-5xl md:text-6xl text-white mb-8">
            Where <span class="text-amber-400">Transformation Happens</span>
          </h2>
          <p class="text-xl text-gray-300 max-w-4xl mx-auto">
            Professional event management with measurable outcomes in nature's most inspiring environment. Maximum 40 executives for intimate, focused programmes.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-16">
          <div class="group bg-gradient-to-br from-gray-800/80 to-gray-900/80 backdrop-blur-xl border border-gray-700/50 rounded-3xl p-10 hover:border-amber-400/50 transition-all duration-700 hover:-translate-y-2 text-center">
            <Icon name="carbon:analytics" class="w-12 h-12 text-amber-400 mx-auto mb-4" />
            <div class="text-5xl font-bold text-transparent bg-gradient-to-r from-amber-400 to-orange-500 bg-clip-text mb-4">94%</div>
            <p class="text-gray-300 leading-relaxed">of executives report breakthrough strategic insights within 48 hours of their wilderness retreat</p>
          </div>
          
          <div class="group bg-gradient-to-br from-gray-800/80 to-gray-900/80 backdrop-blur-xl border border-gray-700/50 rounded-3xl p-10 hover:border-amber-400/50 transition-all duration-700 hover:-translate-y-2 text-center">
            <Icon name="carbon:improve-relevance" class="w-12 h-12 text-amber-400 mx-auto mb-4" />
            <div class="text-5xl font-bold text-transparent bg-gradient-to-r from-amber-400 to-orange-500 bg-clip-text mb-4">40%</div>
            <p class="text-gray-300 leading-relaxed">improvement in team collaboration metrics following safari-integrated development programmes</p>
          </div>
          
          <div class="group bg-gradient-to-br from-gray-800/80 to-gray-900/80 backdrop-blur-xl border border-gray-700/50 rounded-3xl p-10 hover:border-amber-400/50 transition-all duration-700 hover:-translate-y-2 text-center">
            <Icon name="carbon:time" class="w-12 h-12 text-amber-400 mx-auto mb-4" />
            <div class="text-5xl font-bold text-transparent bg-gradient-to-r from-amber-400 to-orange-500 bg-clip-text mb-4">20+</div>
            <p class="text-gray-300 leading-relaxed">years of international corporate event expertise through our established consulting network</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Event Categories - Same as before -->
    <section class="py-32 bg-gradient-to-b from-gray-950 to-gray-800">
      <div class="max-w-7xl mx-auto px-6">
        <header class="text-center mb-20">
          <div class="inline-flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-amber-400/10 to-orange-500/10 border border-amber-400/30 rounded-full mb-8">
            <Icon name="carbon:categories" class="w-4 h-4 text-amber-400" />
            <span class="text-amber-400 text-sm font-medium tracking-widest uppercase">Event Categories</span>
          </div>
          <h2 class="font-serif text-5xl md:text-6xl text-white mb-6">
            Programmes That <span class="text-amber-400">Transform</span>
          </h2>
          <p class="text-xl text-gray-300 max-w-4xl mx-auto leading-relaxed">
            Bespoke corporate programmes designed for visionary leaders who understand that breakthrough thinking requires breakthrough environments.
          </p>
        </header>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          {eventCategories.map((category, index) => (
            <article key={category.title} class="group bg-gradient-to-br from-gray-800/60 to-gray-900/80 backdrop-blur-xl border border-gray-700/50 rounded-3xl p-10 hover:border-amber-400/50 transition-all duration-700 hover:-translate-y-2 hover:shadow-2xl hover:shadow-amber-400/10">
              <div class="mb-8">
                <div class="flex items-center gap-4 mb-6">
                  <div class="w-12 h-12 bg-gradient-to-br from-amber-400/20 to-orange-500/20 rounded-full flex items-center justify-center flex-shrink-0">
                    <Icon name={category.icon} class="w-6 h-6 text-amber-400" />
                  </div>
                  <div class="w-12 h-1 bg-gradient-to-r from-amber-400 to-orange-500"></div>
                </div>
                <h3 class="font-serif text-2xl text-white mb-6 group-hover:text-amber-400 transition-colors duration-300">
                  {category.title}
                </h3>
                <p class="text-gray-300 leading-relaxed mb-8">
                  {category.description}
                </p>
              </div>
              
              <div class="space-y-3">
                <h4 class="text-sm font-semibold text-amber-400 uppercase tracking-wider mb-4 flex items-center gap-2">
                  <Icon name="carbon:result" class="w-4 h-4" />
                  Key Outcomes
                </h4>
                {category.outcomes.map((outcome) => (
                  <div key={outcome} class="flex items-start gap-3">
                    <Icon name="carbon:checkmark" class="w-4 h-4 text-amber-400 mt-0.5 flex-shrink-0" />
                    <span class="text-gray-400 text-sm leading-relaxed">{outcome}</span>
                  </div>
                ))}
              </div>
            </article>
          ))}
        </div>
      </div>
    </section>

    <!-- Expert Network - Same as before -->
    <section class="py-32 bg-gradient-to-b from-gray-800 to-gray-900">
      <div class="max-w-7xl mx-auto px-6">
        <div class="text-center mb-16">
          <div class="inline-flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-amber-400/10 to-orange-500/10 border border-amber-400/30 rounded-full mb-8">
            <Icon name="carbon:network-4" class="w-4 h-4 text-amber-400" />
            <span class="text-amber-400 text-sm font-medium tracking-widest uppercase">Expert Network</span>
          </div>
          <h2 class="font-serif text-5xl md:text-6xl text-white mb-8">
            Global Expertise. <span class="text-amber-400">Local Excellence.</span>
          </h2>
          <p class="text-xl text-gray-300 max-w-4xl mx-auto leading-relaxed mb-12">
            When your corporate programme requires specialized facilitation, we provide access to world-class expertise through our established consulting network.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-12 max-w-5xl mx-auto">
          <div class="group bg-gradient-to-br from-gray-800/60 to-gray-900/80 backdrop-blur-xl border border-gray-700/50 rounded-3xl p-10 hover:border-amber-400/30 transition-all duration-700">
            <div class="flex items-center gap-3 mb-4">
              <Icon name="carbon:enterprise" class="w-8 h-8 text-amber-400" />
              <h3 class="text-2xl font-bold text-white">
                <a href="https://theknowledgebrokers.com" title="Visit The Knowledge Brokers website" target="_blank" class="hover:text-amber-400 transition-colors">The Knowledge Brokers</a>
              </h3>
            </div>
            <p class="text-gray-300 leading-relaxed mb-6">
              International consulting firm providing business training, executive coaching, and corporate development programmes. 20+ years serving organizations globally with premium facilitation and strategic guidance.
            </p>
            <a href="https://theknowledgebrokers.com" title="Visit The Knowledge Brokers website" target="_blank" class="inline-flex items-center gap-2 text-amber-400 hover:text-amber-300 transition-colors text-sm font-medium">
              <Icon name="ph:arrow-square-out" class="w-4 h-4" />
              theknowledgebrokers.com
            </a>
          </div>

          <div class="group bg-gradient-to-br from-gray-800/60 to-gray-900/80 backdrop-blur-xl border border-gray-700/50 rounded-3xl p-10 hover:border-amber-400/30 transition-all duration-700">
            <div class="flex items-center gap-3 mb-4">
              <Icon name="carbon:user-certification" class="w-8 h-8 text-amber-400" />
              <h3 class="text-2xl font-bold text-white">
                <a href="https://expertbase.org" title="Visit Expertbase website" target="_blank" class="hover:text-amber-400 transition-colors">Expertbase</a>
              </h3>
            </div>
            <p class="text-gray-300 leading-relaxed mb-6">
              Global platform connecting organizations with premium business experts, trainers, and speakers. Curated network of professionals specializing in corporate learning, leadership development, and strategic consulting.
            </p>
            <a href="https://expertbase.org" title="Visit Expertbase website" target="_blank" class="inline-flex items-center gap-2 text-amber-400 hover:text-amber-300 transition-colors text-sm font-medium">
              <Icon name="ph:arrow-square-out" class="w-4 h-4" />
              expertbase.org
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Success Stories - Local images only -->
    <section class="py-32 bg-gradient-to-b from-gray-950 to-gray-800">
      <div class="max-w-7xl mx-auto px-6">
        <header class="text-center mb-20">
          <div class="inline-flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-amber-400/10 to-orange-500/10 border border-amber-400/30 rounded-full mb-8">
            <Icon name="carbon:trophy" class="w-4 h-4 text-amber-400" />
            <span class="text-amber-400 text-sm font-medium tracking-widest uppercase">Success Stories</span>
          </div>
          <h2 class="font-serif text-5xl md:text-6xl text-white mb-8">
            Trusted by <span class="text-amber-400">Visionary Leaders</span>
          </h2>
        </header>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          {testimonials.map((testimonial) => (
            <article key={testimonial.name} class="group bg-gradient-to-br from-gray-800/60 to-gray-900/80 backdrop-blur-xl border border-gray-700/50 rounded-3xl overflow-hidden hover:border-amber-400/30 transition-all duration-700 hover:-translate-y-2 hover:shadow-2xl hover:shadow-amber-400/10">
              <div class="p-10">
                <div class="flex items-center gap-4 mb-8">
                  <div class="w-16 h-16 rounded-full overflow-hidden border-2 border-amber-400/50 flex-shrink-0">
                    <img
                      src={testimonial.image}
                      alt={`${testimonial.name} - ${testimonial.role} at ${testimonial.company}`}
                      class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"
                      loading="lazy"
                    />
                  </div>
                  <div>
                    <div class="flex items-center gap-2 text-amber-400 font-semibold text-sm uppercase tracking-wider mb-1">
                      <Icon name="carbon:result" class="w-3 h-3" />
                      Key Result
                    </div>
                    <div class="text-white font-medium">{testimonial.takeaway}</div>
                  </div>
                </div>

                <!-- Quote -->
                <blockquote class="mb-8">
                  <Icon name="ph:quotes" class="w-8 h-8 text-amber-400/50 mb-4" />
                  <p class="text-lg text-gray-300 leading-relaxed">
                    {testimonial.quote}
                  </p>
                </blockquote>

                <!-- Attribution -->
                <footer class="pt-6 border-t border-gray-700/50">
                  <div class="font-semibold text-white text-lg">{testimonial.name}</div>
                  <div class="text-amber-400 font-medium">{testimonial.role}</div>
                  <div class="text-gray-400 mb-3">{testimonial.company}</div>
                  <div class="text-gray-500 text-sm">
                    <div class="flex items-center gap-2">
                      <Icon name="ph:calendar" class="w-3 h-3" />
                      {testimonial.event}
                    </div>
                    <div class="flex items-center gap-2 mt-1">
                      <Icon name="ph:clock" class="w-3 h-3" />
                      {testimonial.date}
                    </div>
                  </div>
                </footer>
              </div>
            </article>
          ))}
        </div>
      </div>
    </section>

    <!-- Professional Contact & Service Standards -->
    <section class="py-32 bg-gradient-to-b from-gray-900 to-gray-900/50">
      <div class="max-w-5xl mx-auto from-gray-800/40 to-gray-900/60 backdrop-blur-xl border border-gray-600/30 rounded-3xl overflow-hidden">
        
        <!-- Header with Professional Positioning -->
        <div class="bg-gradient-to-r from-amber-400/5 to-orange-500/5 border-b border-gray-700/30 px-10 py-8">
          <div class="flex items-center justify-between">
            <div>
              <h3 class="font-serif text-3xl text-white mb-3">
                Contact our Events Director
              </h3>
              <p class="text-gray-300 text-lg leading-relaxed">
                Speak directly with our events director for immediate consultation and bespoke programme design.
              </p>
            </div>
          </div>
        </div>

        <!-- Contact & Guarantee Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-0">
          
          <!-- Direct Contact -->
          <div class="p-10 border-r border-gray-700/30">
            <div class="flex items-start gap-6">
              <div class="w-16 h-16 bg-gradient-to-br from-amber-400/20 to-orange-500/20 rounded-2xl flex items-center justify-center flex-shrink-0 border border-amber-400/20">
                <Icon name="ph:phone" class="w-8 h-8 text-amber-400" />
              </div>
              <div class="flex-1">
                <h4 class="text-xl font-semibold text-white mb-2">Events Director</h4>
                <div class="flex items-center mb-3">
                  <span class="text-2xl font-bold text-transparent bg-gradient-to-r from-amber-400 to-orange-500 bg-clip-text">
                    +91 98811 91092
                  </span>
                  <a
                    href="tel:+919881191092"
                    class="ml-3 text-gray-400 hover:text-amber-400 transition-colors group relative"
                    aria-label="Call"
                  >
                    <Icon name="mdi:phone" class="w-5 h-5" />
                    <span class="absolute bottom-full left-1/2 -translate-x-1/2 -translate-y-1 bg-black/90 text-white text-xs px-3 py-1.5 rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">
                      Call
                    </span>
                  </a>
                  <a
                    href="https://wa.me/919881191092"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="ml-2 text-green-500 hover:text-green-400 transition-colors group relative"
                    aria-label="WhatsApp"
                  >
                    <Icon name="mdi:whatsapp" class="w-5 h-5" />
                    <span class="absolute bottom-full left-1/2 -translate-x-1/2 -translate-y-1 bg-black/90 text-white text-xs px-3 py-1.5 rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">
                      WhatsApp
                    </span>
                  </a>
                </div>
                <p class="text-gray-400 leading-relaxed mb-4">
                  Your direct line for corporate programme consultation, strategic planning discussions, and executive retreat visioning and realisation.
                </p>
                <div class="flex items-center gap-2 text-amber-400 text-sm">
                  <Icon name="ph:clock" class="w-4 h-4" />
                  <span>Available 9 AM - 6 PM IST</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Service Standards -->
          <div class="p-10">
            <div class="flex items-center gap-3 mb-6">
              <Icon name="carbon:certificate" class="w-6 h-6 text-amber-400" />
              <h4 class="text-xl font-semibold text-white">Professional Service Standards</h4>
            </div>
            
            <div class="space-y-4">
              <div class="flex items-center justify-between py-3 border-b border-gray-700/50">
                <div class="flex items-center gap-3">
                  <div class="w-2 h-2 bg-amber-400 rounded-full"></div>
                  <span class="text-gray-300">Initial Consultation:</span>
                </div>
                <span class="text-amber-400 font-semibold">24 hours</span>
              </div>
              
              <div class="flex items-center justify-between py-3 border-b border-gray-700/50">
                <div class="flex items-center gap-3">
                  <div class="w-2 h-2 bg-amber-400 rounded-full"></div>
                  <span class="text-gray-300">Bespoke Event Proposal:</span>
                </div>
                <span class="text-amber-400 font-semibold">48 hours</span>
              </div>
              
              <div class="flex items-center justify-between py-3 border-b border-gray-700/50">
                <div class="flex items-center gap-3">
                  <div class="w-2 h-2 bg-amber-400 rounded-full"></div>
                  <span class="text-gray-300">Optimal booking window:</span>
                </div>
                <span class="text-amber-400 font-semibold">30 to 60 days</span>
              </div>
              
              <div class="flex items-center justify-between py-3">
                <div class="flex items-center gap-3">
                  <div class="w-2 h-2 bg-amber-400 rounded-full"></div>
                  <span class="text-gray-300">Max Group Capacity:</span>
                </div>
                <span class="text-amber-400 font-semibold">40 executives</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Professional Credentials Footer -->
        <div class="bg-gradient-to-r from-gray-900/60 to-gray-800/60 border-t border-gray-700/30 px-10 py-6">
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-4">
              <Icon name="carbon:network-4" class="w-5 h-5 text-amber-400" />
              <span class="text-gray-400 text-sm">
                Backed by <a href="https://www.theknowledgebrokers.com" title="Visit The Knowledge Brokers website" target="_blank" class="text-amber-400 hover:text-amber-300">The Knowledge Brokers</a> & 
                <a href="https://expertbase.org" title="Visit Expertbase website" target="_blank" class="text-amber-400 hover:text-amber-300">Expertbase</a> consulting networks
              </span>
            </div>
            <div class="hidden md:flex items-center gap-2 text-amber-400 text-sm">
              <Icon name="ph:shield-check" class="w-4 h-4" />
              <span>20+ Years Global Experience</span>
            </div>
          </div>
        </div>
        
      </div>
    </section>

    <!-- Sophisticated enquiry Form -->
    <section id="enquiry-form" class="py-32 bg-gradient-to-b from-gray-900 to-gray-950" aria-labelledby="enquiry-heading">
      <div class="max-w-6xl mx-auto">
        <section class="px-6 md:p-12">
        <header class="text-center mb-16">
          <h2
            id="enquiry-heading"
            class="font-serif text-4xl md:text-5xl text-white mb-8"
          >
            Let's Plan Your <span class="text-amber-400"
              >Extraordinary Experience</span
            >
          </h2>
          <p class="text-gray-300 max-w-3xl mx-auto leading-relaxed">
            Share your event vision with us. We'll turn it into reality. We respond within hours.
          </p>
        </header>

        <!-- Success/Error Message Container -->
        <div id="form-message" class="hidden mb-8 p-6 rounded-2xl text-center">
        </div>

        <form
          id="corporate-enquiry-form"
          name="corporate-enquiry"
          class="bg-gradient-to-br from-gray-800/60 to-gray-900/60 backdrop-blur-xl border border-gray-600/50 rounded-3xl p-6 md:p-12"
        >
          <!-- Turnstile widget -->
          <div
            class="cf-turnstile"
            data-sitekey="0x4AAAAAAB08V5IJ7fONN28Y"
            data-theme="dark"
          >
          </div>

          <input type="hidden" name="form-name" value="corporate-enquiry" />
          <input type="hidden" name="pageUrl" value={pageUrl} />

          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Contact Information -->
            <div>
              <label
                for="contactName"
                class="block text-sm font-medium text-gray-300 mb-3"
                >Your Name *</label
              >
              <input
                id="contactName"
                name="contactName"
                type="text"
                required
                class="w-full rounded-2xl bg-gray-800/50 border border-gray-600 px-6 py-4 text-white focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all duration-300"
              />
            </div>

            <div>
              <label
                for="companyName"
                class="block text-sm font-medium text-gray-300 mb-3"
                >Organisation *</label
              >
              <input
                id="companyName"
                name="companyName"
                type="text"
                required
                class="w-full rounded-2xl bg-gray-800/50 border border-gray-600 px-6 py-4 text-white focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all duration-300"
              />
            </div>

            <div>
              <label
                for="email"
                class="block text-sm font-medium text-gray-300 mb-3"
                >Professional Email *</label
              >
              <input
                id="email"
                name="email"
                type="email"
                pattern="[a-zA-Z0-9._%+\\-]+@[a-zA-Z0-9.\\-]+\\.[a-zA-Z]{2,}"
                required
                class="w-full rounded-2xl bg-gray-800/50 border border-gray-600 px-6 py-4 text-white focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all duration-300"
              />
            </div>

            <div>
              <label
                for="phone"
                class="block text-sm font-medium text-gray-300 mb-3"
                >Contact Number *</label
              >
              <input
                id="phone"
                name="phone"
                type="tel"
                required
                class="w-full rounded-2xl bg-gray-800/50 border border-gray-600 px-6 py-4 text-white focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all duration-300"
              />
            </div>

            <!-- Event Details -->
            <div>
              <label
                for="eventType"
                class="block text-sm font-medium text-gray-300 mb-3"
                >Event Category *</label
              >
              <select
                id="eventType"
                name="eventType"
                required
                class="w-full rounded-2xl bg-gray-800/50 border border-gray-600 px-6 py-4 text-white focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all duration-300"
              >
                <option value=""></option>
                <option value="Executive Retreat">Executive Retreat</option>
                <option value="Strategic Planning Session"
                  >Strategic Planning Session</option
                >
                <option value="Team Development">Team Development</option>
                <option value="Board Meeting">Board Meeting</option>
                <option value="Leadership Development"
                  >Leadership Development</option
                >
                <option value="Client Entertainment"
                  >Client Entertainment</option
                >
                <option value="Innovation Workshop">Innovation Workshop</option>
                <option value="Achievement Celebration"
                  >Achievement Celebration</option
                >
                <option value="Product Launch">Product Launch</option>
                <option value="Other">Other (specify in message)</option>
              </select>
            </div>

            <div>
              <label
                for="attendeeCount"
                class="block text-sm font-medium text-gray-300 mb-3"
                >Group Size *</label
              >
              <select
                id="attendeeCount"
                name="attendeeCount"
                required
                class="w-full rounded-2xl bg-gray-800/50 border border-gray-600 px-6 py-4 text-white focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all duration-300"
              >
                <option value=""></option>
                <option value="5-8"
                  >5-8 people (Intimate executive group)</option
                >
                <option value="9-15">9-15 people (Core leadership team)</option>
                <option value="16-25"
                  >16-25 people (Department or division)</option
                >
                <option value="26-35">26-35 people (Large team event)</option>
                <option value="36-40">36-40 people (Maximum capacity)</option>
              </select>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-300 mb-3">Preferred Date</label>
              <CorporateDatePicker 
                name="preferredDate" 
                required={true} 
                placeholder="Pick your preferred date" 
                client:load
              />
            </div>

            <div>
              <label
                for="duration"
                class="block text-sm font-medium text-gray-300 mb-3"
                >Event Duration</label
              >
              <select
                id="duration"
                name="duration"
                class="w-full rounded-2xl bg-gray-800/50 border border-gray-600 px-6 py-4 text-white focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all duration-300"
              >
                <option value=""></option>
                <option value="Half day">Half day (4 hours)</option>
                <option value="Full day">Full day (8 hours)</option>
                <option value="2 days">2 days (overnight stay)</option>
                <option value="3 days">3 days (comprehensive programme)</option>
                <option value="4+ days"
                  >4+ days (transformation intensive)</option
                >
              </select>
            </div>
          </div>

          <!-- Message -->
          <div class="mt-8">
            <label
              for="message"
              class="block text-sm font-medium text-gray-300 mb-3"
              >Your Vision & Objectives *</label
            >
            <textarea
              id="message"
              name="message"
              rows="6"
              required
              placeholder="Tell us briefly about your objectives for this event."
              class="w-full rounded-2xl bg-gray-800/50 border border-gray-600 px-6 py-4 text-white placeholder-gray-400 focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all duration-300 resize-none leading-relaxed"
            ></textarea>
          </div>

          <div class="text-center mt-12">
            <button
              type="submit"
              id="submit-btn"
              class="group relative overflow-hidden action-btn"
            >
              Request Bespoke Proposal
            </button>
            <hr class="border-gray-700 mt-12">
            <p
              class="text-gray-500 text-sm mt-6 max-w-2xl mx-auto leading-relaxed"
            >
             All enquiries are treated confidentiality. Your data is never shared without your consent. We never spam.
            </p>
          </div>
        </form>
      </div>
      </section>
    </section>

  <SmartReserveButton buttonText="Make a Corporate Enquiry" position="bottom-right" />
</layout>

<script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>


<script type="module">
  document.addEventListener("DOMContentLoaded", async () => {

    // FORM SUBMISSION WITH TURNSTILE 
    try {
      const { supabase } = await import("/src/lib/supabase.js");

      const form = document.getElementById("corporate-enquiry-form");
      const submitBtn = document.getElementById("submit-btn");
      const messageDiv = document.getElementById("form-message");

      if (!form) return;

      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        // Check if Turnstile is loaded
        if (typeof turnstile === 'undefined') {
          showMessage("Security validation not loaded. Please refresh the page.", "error");
          return;
        }

        // ADD TURNSTILE VALIDATION
        const turnstileResponse = turnstile.getResponse();
        if (!turnstileResponse) {
          showMessage("Please complete the security check.", "error");
          return;
        }

        // Show loading state
        submitBtn.disabled = true;
        submitBtn.textContent = "Processing your enquiry...";
        showMessage("Just a moment please ...", "loading");

        try {
          // Get form data - matching corporate enquiry structure
          const formData = new FormData(form);
          
          // Debug: Check what we're getting
          console.log("preferredDate value:", formData.get("preferredDate"));
          
          const submission = {
            form_name: formData.get("form-name"),
            page_url: formData.get("pageUrl"),
            contact_name: formData.get("contactName"),
            company_name: formData.get("companyName"),
            email: formData.get("email"),
            phone: formData.get("phone"),
            event_type: formData.get("eventType"),
            attendee_count: formData.get("attendeeCount"),
            preferred_date: formData.get("preferredDate"),
            duration: formData.get("duration"),
            message: formData.get("message"),
            submitted_at: new Date().toISOString(),
            turnstile_response: turnstileResponse,
          };

          // Submit to Supabase - using corporate_enquiries table
          const { data, error } = await supabase
            .from("corporate_enquiries")
            .insert([submission]);

          if (error) throw error;

          // Success! Show elegant success message
          showSuccessMessage();
        } catch (error) {
          console.error("Submission error:", error);
          showMessage(
            "We experienced an issue processing your enquiry. Please call our events team directly at +91 90226 80451 or try submitting again.",
            "error"
          );
          submitBtn.disabled = false;
          submitBtn.textContent = "Request Bespoke Proposal";
          if (typeof turnstile !== 'undefined') {
            turnstile.reset();
          }
        }
      });

      function showMessage(text, type) {
        messageDiv.innerHTML = text;
        messageDiv.className = `mb-8 p-6 rounded-2xl text-center ${
          type === "success"
            ? "bg-green-900/50 text-green-300 border border-green-700"
            : type === "error"
              ? "bg-red-900/50 text-red-300 border border-red-700"
              : "bg-blue-900/50 text-blue-300 border border-blue-700"
        }`;
        messageDiv.classList.remove("hidden");
      }

      function showSuccessMessage() {
        // Hide the form completely
        form.style.display = "none";

        // Show sophisticated success message
        messageDiv.innerHTML = `
          <div class="text-center py-16">
            <div class="w-20 h-20 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-8">
              <svg class="w-10 h-10 text-gray-900" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <h3 class="font-serif text-4xl text-white mb-6">Your Vision Is Our Mission</h3>
            <p class="text-xl text-gray-300 mb-8 max-w-2xl mx-auto leading-relaxed">
              Thank you for considering Limban Resort as your host for your next event. 
              We will get in touch with you shortly to discuss details.
            </p>
            <div class="flex flex-col sm:flex-row gap-6 justify-center">
              <button 
                onclick="location.reload()" 
                class="group relative bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-400 hover:to-orange-400 text-gray-900 font-bold px-10 py-4 rounded-2xl transition-all duration-300 hover:shadow-xl hover:-translate-y-1 overflow-hidden"
              >
                <span class="relative z-10">Plan Another Event</span>
                <div class="absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 transform translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000 ease-out"></div>
              </button>
            </div>
          </div>
        `;
        messageDiv.className =
          "bg-gradient-to-br from-gray-800/60 to-gray-900/60 backdrop-blur-xl border border-amber-600/50 rounded-3xl p-12 text-center";
        messageDiv.classList.remove("hidden");

        // RESET TURNSTILE ON SUCCESS
        if (typeof turnstile !== 'undefined') {
          turnstile.reset();
        }

        // Smooth scroll to success message
        messageDiv.scrollIntoView({ behavior: "smooth", block: "center" });
      }
    } catch (error) {
      console.error("Failed to load Supabase:", error);
    }
  });
</script>

---
import { Icon } from "astro-icon/components";
---

<!-- Navigation -->
<nav
  class="fixed w-full z-50 top-0 bg-gray-950/95 backdrop-blur-xl border-b border-gray-800/50 transition-all duration-300"
>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-20">
      <div class="flex-shrink-0">
        <a href="/" title="Return to Limban Resort homepage">
          <img
            src="/limban-resort-tadoba-logo.png"
            alt="Limban Resort"
            class="h-12 w-auto"
            width="144"
            height="48"
          />
        </a>
      </div>

      <div class="hidden lg:block">
        <div class="flex items-center space-x-8">
          <a
            href="/"
            title="Return to Limban Resort homepage"
            class="text-sm font-medium hover:text-white transition-all duration-200 tracking-wide relative group text-gray-300"
          >
            Home
            <span
              class="absolute -bottom-1 left-0 h-px bg-white transition-all duration-300 group-hover:w-full w-0"
            ></span>
          </a>

          <!-- The Resort Dropdown with Invisible Bridge -->
          <div class="relative group">
            <button
              type="button"
              class="flex items-center text-sm font-medium text-gray-300 hover:text-white transition-all duration-200 tracking-wide relative cursor-pointer gap-2"
            >
              The Resort
              <Icon
                name="ph:caret-down-bold"
                class="w-4 h-4 transition-transform duration-300 group-hover:rotate-180"
              />
              <span
                class="absolute -bottom-1 left-0 h-px bg-white transition-all duration-300 group-hover:w-full w-0"
              ></span>
            </button>

            <!-- Invisible bridge fills the gap -->
            <div
              class="absolute top-full left-1/2 -translate-x-1/2 w-56 h-4 bg-transparent opacity-0 group-hover:opacity-100 transition-all duration-300"
            >
            </div>

            <div
              class="absolute top-full left-1/2 -translate-x-1/2 mt-4 w-56 bg-gray-950/90 backdrop-blur-xl border border-gray-800 rounded-lg shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible group-hover:translate-y-0 transition-all duration-300 transform -translate-y-2"
            >
              <div class="p-2">
                <a
                  href="/vibe"
                  title="Discover the unique atmosphere at Limban Resort"
                  class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-800 hover:text-white rounded-md transition-colors"
                  >The Limban Vibe</a
                >
                <a
                  href="/tadoba"
                  title="Learn about Tadoba National Park and conservation"
                  class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-800 hover:text-white rounded-md transition-colors"
                  >Tadoba National Park</a
                >
              </div>
            </div>
          </div>
          <!-- The Experiences Dropdown with Invisible Bridge -->
          <div class="relative group">
            <button
              type="button"
              class="flex items-center text-sm font-medium text-gray-300 hover:text-white transition-all duration-200 tracking-wide relative cursor-pointer gap-2"
            >
              The Experiences
              <Icon
                name="ph:caret-down-bold"
                class="w-4 h-4 transition-transform duration-300 group-hover:rotate-180"
              />
              <span
                class="absolute -bottom-1 left-0 h-px bg-white transition-all duration-300 group-hover:w-full w-0"
              ></span>
            </button>

            <!-- Invisible bridge fills the gap -->
            <div
              class="absolute top-full left-1/2 -translate-x-1/2 w-56 h-4 bg-transparent opacity-0 group-hover:opacity-100 transition-all duration-300"
            >
            </div>

            <div
              class="absolute top-full left-1/2 -translate-x-1/2 mt-4 w-56 bg-gray-950/90 backdrop-blur-xl border border-gray-800 rounded-lg shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible group-hover:translate-y-0 transition-all duration-300 transform -translate-y-2"
            >
              <div class="p-2">
                <a
                  href="/rooms"
                  title="View luxury safari accommodations at Limban Resort"
                  class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-800 hover:text-white rounded-md transition-colors"
                  >Rooms & Suites</a
                >
                <a
                  href="/dining"
                  title="Explore dining experiences at Limban Resort"
                  class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-800 hover:text-white rounded-md transition-colors"
                  >Dining Experiences</a
                >
                <a
                  href="/safaris"
                  title="Explore safari adventures at Limban Resort"
                  class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-800 hover:text-white rounded-md transition-colors"
                  >Safari Adventures</a
                >
                <a
                  href="/wellness"
                  title="Discover wellness experiences at Limban Resort"
                  class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-800 hover:text-white rounded-md transition-colors"
                  >Wellness</a
                >
                <a
                  href="/activities"
                  title="Explore activities at Limban Resort"
                  class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-800 hover:text-white rounded-md transition-colors"
                  >Activities</a
                >
                <a
                  href="/corporate-events"
                  title="View corporate event options at Limban Resort"
                  class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-800 hover:text-white rounded-md transition-colors"
                  >Corporate Events</a
                >
              </div>
            </div>
          </div>
          <a
            href="/about"
            title="Learn about Limban Resort's story and vision"
            class="text-sm font-medium hover:text-white transition-all duration-200 tracking-wide relative group text-gray-300"
          >
            About Us
            <span
              class="absolute -bottom-1 left-0 h-px bg-white transition-all duration-300 group-hover:w-full w-0"
            ></span>
          </a>

          <a
            href="/contact"
            title="Contact Limban Resort for inquiries and bookings"
            class="text-sm font-medium hover:text-white transition-all duration-200 tracking-wide relative group text-gray-300"
          >
            Contact
            <span
              class="absolute -bottom-1 left-0 h-px bg-white transition-all duration-300 group-hover:w-full w-0"
            ></span>
          </a>
        </div>
      </div>

      <div class="hidden lg:block">
        <a
          href="/rooms"
          title="View and book luxury safari accommodations at Limban Resort"
          class="bg-gradient-to-r from-gray-700 to-gray-800 hover:from-gray-600 hover:to-gray-700 text-white px-6 py-3 rounded-lg text-sm font-semibold tracking-wide transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5"
        >
          Reserve Your Stay
        </a>
      </div>

      <div class="lg:hidden">
        <button
          id="mobile-menu-button"
          class="relative w-8 h-8 focus:outline-none z-50 mr-4 text-gray-300 hover:text-white"
        >
          <svg
            class="hamburger-icon w-7 h-7"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
          <svg
            class="close-icon w-7 h-7 hidden"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
    </div>
  </div>
</nav>

<!-- Mobile Menu -->
<div
  id="mobile-menu"
  class="lg:hidden fixed inset-0 z-40 transform translate-x-full transition-transform duration-500 ease-out"
>
  <div class="absolute inset-0 bg-gray-950/50 backdrop-blur-[20px]">
    <div class="h-full overflow-y-auto">
      <div class="px-8 py-12 min-h-screen mt-24">
        <div class="space-y-1">
          <a
            href="/"
            title="Return to Limban Resort homepage"
            class="mobile-nav-link block text-xl font-light text-gray-300 hover:text-white transition-all duration-300 tracking-wide py-3 border-b border-gray-800 hover:border-gray-700"
          >
            Home
          </a>

          <div class="pt-6 pb-2">
            <h4 class="text-sm uppercase tracking-widest text-gray-500">
              The Resort
            </h4>
          </div>
          <a
            href="/vibe"
            title="Discover the unique atmosphere at Limban Resort"
            class="mobile-nav-link block text-xl font-light text-gray-300 hover:text-white transition-all duration-300 tracking-wide py-3 border-b border-gray-800 hover:border-gray-700"
            >The Limban Vibe</a
          >
          <a
            href="/tadoba"
            title="Learn about Tadoba National Park and conservation"
            class="mobile-nav-link block text-xl font-light text-gray-300 hover:text-white transition-all duration-300 tracking-wide py-3 border-b border-gray-800 hover:border-gray-700"
            >Tadoba National Park</a
          >

          <div class="pt-6 pb-2">
            <h4 class="text-sm uppercase tracking-widest text-gray-500">
              The Experiences
            </h4>
          </div>
          <a
            href="/rooms"
            title="View luxury safari accommodations at Limban Resort"
            class="mobile-nav-link block text-xl font-light text-gray-300 hover:text-white transition-all duration-300 tracking-wide py-3 border-b border-gray-800 hover:border-gray-700"
            >Rooms & Suites</a
          >
          <a
            href="/dining"
            title="Explore dining experiences at Limban Resort"
            class="mobile-nav-link block text-xl font-light text-gray-300 hover:text-white transition-all duration-300 tracking-wide py-3 border-b border-gray-800 hover:border-gray-700"
            >Dining Experiences</a
          >
          <a
            href="/safaris"
            title="Explore safari adventures at Limban Resort"
            class="mobile-nav-link block text-xl font-light text-gray-300 hover:text-white transition-all duration-300 tracking-wide py-3 border-b border-gray-800 hover:border-gray-700"
            >Safari Adventures</a
          >
          <a
            href="/wellness"
            title="Discover wellness experiences at Limban Resort"
            class="mobile-nav-link block text-xl font-light text-gray-300 hover:text-white transition-all duration-300 tracking-wide py-3 border-b border-gray-800 hover:border-gray-700"
            >Wellness</a
          >
          <a
            href="/activities"
            title="Explore activities at Limban Resort"
            class="mobile-nav-link block text-xl font-light text-gray-300 hover:text-white transition-all duration-300 tracking-wide py-3 border-b border-gray-800 hover:border-gray-700"
            >Activities</a
          >
          <a
            href="/corporate-events"
            title="View corporate event options at Limban Resort"
            class="mobile-nav-link block text-xl font-light text-gray-300 hover:text-white transition-all duration-300 tracking-wide py-3 border-b border-gray-800 hover:border-gray-700"
            >Corporate Events</a
          >

          <div class="pt-6 pb-2">
            <h4 class="text-sm uppercase tracking-widest text-gray-500">
              Connect
            </h4>
          </div>
          <a
            href="/about"
            title="Learn about Limban Resort's story and vision"
            class="mobile-nav-link block text-xl font-light text-gray-300 hover:text-white transition-all duration-300 tracking-wide py-3 border-b border-gray-800 hover:border-gray-700"
            >About Us</a
          >
          <a
            href="/contact"
            title="Contact Limban Resort for inquiries and bookings"
            class="mobile-nav-link block text-xl font-light text-gray-300 hover:text-white transition-all duration-300 tracking-wide py-3 border-b border-gray-800 hover:border-gray-700"
            >Contact Us</a
          >
        </div>

        <div class="mt-12">
          <a
            href="/rooms"
            title="View and book luxury safari accommodations at Limban Resort"
            class="block text-center w-full bg-gradient-to-r from-gray-700 to-gray-800 hover:from-gray-600 hover:to-gray-700 text-white px-8 py-6 rounded-lg text-lg tracking-wide transition-all duration-300"
          >
            Reserve Your Stay
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Keep your existing mobile menu JavaScript - it's needed for the smooth experience
  // ... (same script as before)
</script>

<script>
  // Mobile menu toggle functionality
  const mobileMenuButton = document.getElementById("mobile-menu-button");
  const mobileMenu = document.getElementById("mobile-menu");
  const hamburgerIcon = document.querySelector(".hamburger-icon");
  const closeIcon = document.querySelector(".close-icon");

  mobileMenuButton?.addEventListener("click", () => {
    const isOpen = !mobileMenu?.classList.contains("translate-x-full");

    if (isOpen) {
      // Close menu
      mobileMenu?.classList.add("translate-x-full");
      hamburgerIcon?.classList.remove("hidden");
      closeIcon?.classList.add("hidden");
      document.body.style.overflow = "auto";
    } else {
      // Open menu
      mobileMenu?.classList.remove("translate-x-full");
      hamburgerIcon?.classList.add("hidden");
      closeIcon?.classList.remove("hidden");
      document.body.style.overflow = "hidden";
    }
  });

  // Close menu when clicking on links
  document.querySelectorAll(".mobile-nav-link").forEach((link) => {
    link.addEventListener("click", () => {
      mobileMenu?.classList.add("translate-x-full");
      hamburgerIcon?.classList.remove("hidden");
      closeIcon?.classList.add("hidden");
      document.body.style.overflow = "auto";
    });
  });

  // Close mobile menu when clicking outside
  document.addEventListener("click", (event) => {
    if (
      !mobileMenuButton?.contains(event.target) &&
      !mobileMenu?.contains(event.target) &&
      !mobileMenu?.classList.contains("translate-x-full")
    ) {
      mobileMenu?.classList.add("translate-x-full");
      hamburgerIcon?.classList.remove("hidden");
      closeIcon?.classList.add("hidden");
      document.body.style.overflow = "auto";
    }
  });

  // Close mobile menu on escape key
  document.addEventListener("keydown", (event) => {
    if (
      event.key === "Escape" &&
      !mobileMenu?.classList.contains("translate-x-full")
    ) {
      mobileMenu?.classList.add("translate-x-full");
      hamburgerIcon?.classList.remove("hidden");
      closeIcon?.classList.add("hidden");
      document.body.style.overflow = "auto";
    }
  });
</script>

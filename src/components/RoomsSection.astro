---
// Rooms Section Component
export interface Props {
  rooms: Array<{
    id: string;
    roomName: string;
    shortDescription: string;
    basePrice: number;
    url: string;
    heroImage?: {
      optimisedCard?: string;
      url: string;
    };
  }>;
  specialDeal?: { html: string };
}

const { rooms, specialDeal } = Astro.props;
---

<section id="accommodations" class="py-32 bg-gray-800">
  <div class="max-w-7xl mx-auto px-6">
    <div class="text-center mb-20">
      <div class="text-sm text-gray-400 tracking-[0.2em] uppercase mb-4">
        Exceptional Accommodations!
      </div>
      <h2 class="font-serif italic text-4xl md:text-6xl text-white mb-8">
        Six Luxury Experiences
      </h2>
      <p class="text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed">
        Six distinctive accommodation experiences, each designed to provide the
        perfect balance of luxury, comfort, and authentic connection with the
        wilderness.
      </p>
    </div>

    {
      specialDeal && specialDeal.html && (
        <div class="max-w-4xl mx-auto mb-16 bg-gray-900/50 border border-yellow-600/30 rounded-xl p-6 text-center shadow-lg">
          <div
            class="font-semibold text-orange-300 max-w-none"
            set:html={specialDeal.html}
          />
        </div>
      )
    }

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
      {
        rooms?.length > 0 ? (
          rooms.map((room) => (
            <div
              key={room.id}
              class="bg-gray-800/50 backdrop-blur-xl border border-gray-500 rounded-xl overflow-hidden shadow-lg shadow-white/5 hover:shadow-2xl transition-all duration-500 group flex flex-col"
            >
              <picture class="w-full h-64 overflow-hidden">
                <img
                  src={room.heroImage?.optimisedCard}
                  alt={`${room.roomName} - Luxury accommodation at Limban Resort in Tadoba, India`}
                  width="450"
                  height="300"
                  class="w-full h-64 object-cover group-hover:scale-110 transition-transform duration-500"
                  loading="lazy"
                  decoding="async"
                />
              </picture>
              <div class="p-10 flex flex-col flex-grow">
                <div class="flex items-center mb-3">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="w-5 h-5 mr-2 text-gray-400"
                  >
                    <rect width="18" height="11" x="3" y="11" rx="2" ry="2" />
                    <circle cx="12" cy="5" r="2" />
                    <path d="m12 7-8 4v6l8-4 8 4v-6l-8-4Z" />
                  </svg>
                  <h3 class="text-xl text-white font-bold">{room.roomName}</h3>
                </div>
                <p class="text-gray-400 mb-6 text-sm leading-relaxed flex-grow">
                  {room.shortDescription}
                </p>
                <div class="space-y-4">
                  <div>
                    <span class="text-2xl font-bold text-white">
                      From â‚¹{Number(room.basePrice).toLocaleString()}
                    </span>
                    <span class="text-sm text-gray-400 block">per night</span>
                  </div>
                  <a
                    href={`/rooms/${room.url}`}
                    class="group relative block w-full text-center bg-gradient-to-r from-gray-100 to-gray-200 hover:from-orange-400 hover:to-orange-500 text-gray-900 hover:text-white px-6 py-3 rounded-lg text-sm tracking-wide transition-all duration-300 hover:shadow-lg border border-gray-300 hover:border-orange-400"
                  >
                    <span class="relative z-10">Learn More</span>
                  </a>
                </div>
              </div>
            </div>
          ))
        ) : (
          <div class="col-span-full text-center py-12">
            <p class="text-gray-400 text-lg">
              Rooms are being updated. Please check back soon.
            </p>
          </div>
        )
      }
    </div>
  </div>
</section>
